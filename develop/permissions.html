<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1" name="viewport"><title>Permissions | DemocracyOS Documentation</title><link rel="shortcut icon" type="image/x-icon" href="/undefined"><link rel="apple-touch-icon" href="/undefined"><link rel="stylesheet" type="text/css" href="/assets/css/index-84ec9c7dd13192791ab04c843c9188d5.css"><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700|Martel:200,400" rel="stylesheet" type="text/css"></head><body><div data-sidebar-toggle class="sidebar-toggle"><div><span></span></div></div><nav data-sidebar class="sidebar"><img src="/assets/img/logo.svg" class="logo"><div class="navigation"><p class="item"><a href="/">Overview</a></p><p class="item"><a href="/install.html">Install</a></p><p class="item"><a href="/configuration.html">Configuration</a></p><p class="item"><a href="/contributing.html">Contributing</a></p><p class="item"><a href="/coding-styles.html">Coding Styles</a></p><p class="item dir"><a href="/deploy/">Deploy</a></p><p class="item dir"><a href="/develop/">Develop</a></p><p class="item child"><a href="/develop/permissions.html">Permissions</a></p><p class="item child"><a href="/develop/notifications.html">Notifications</a></p><p class="item dir"><a href="/tutorials/">Tutorials</a></p><p class="item child"><a href="/tutorials/sign-up.html">How to sign up?</a></p><p class="item child"><a href="/tutorials/forgot-password.html">How to recover your password?</a></p><p class="item child"><a href="/tutorials/create-a-democracy.html">How to create a Democracy?</a></p><p class="item child"><a href="/tutorials/create-a-tag.html">How to create a Tag?</a></p><p class="item child"><a href="/tutorials/create-a-topic.html">How to create a Topic?</a></p></div></nav><main><div class="md"><h1 id="introduction"><a class="heading-anchor" href="#introduction"><span></span></a>Introduction</h1>
<p>Generally, all forums are open for all registered users to participate. That means that any user can see the topics on any forum and comment or vote.</p>
<p>However, a forum owner could want to restrict the participation to a closed group or make the forum entirely private. All that cases are covered with DemocracyOS permission model. So, in DemocracyOS</p>
<ul>
<li>a forum can be <em>open for all</em>, where everyone can comment and vote;</li>
<li>a forum can be <em>restricted</em>, where everyone can see the topics but some people can comment and vote;</li>
<li>a forum can be <em>secret</em>, where nobody can see the topics or vote unless they are authorized by the owner or an admin.</li>
</ul>
<p>We distinguish three roles on a forum:</p>
<ul>
<li>The <em>Owner</em> is unique, and cannot be changed. It&#x2019;s free to change everything regarding this forum.</li>
<li><em>Administrators</em> can give permissions to other users, edit forum settings, and manage the content (create and edit topics, etc).</li>
<li><em>Collaborators</em> can add, edit and delete topics on this forum.</li>
<li><em>Participants</em> can comment and vote this forum if it&#x2019;s Restricted or Private.</li>
</ul>
<p>This article is intended to provide you, as a developer, guidelines to understand and extend the permissions approach.</p>
<h1 id="the-model"><a class="heading-anchor" href="#the-model"><span></span></a>The model</h1>
<p>This permission model is represented in the forum model, since we are only applying restrictions at a forum level. You&#x2019;ll find the following files next to the forum directory (<code>lib/models/forum/</code>):</p>
<ul>
<li><code>index.js</code>: Both forum and permissions schemas, and its own specifics methods.</li>
<li><code>privileges.js</code>: Privileges are the calculated actions users can make, based on a User permissions and the forum&#x2019;s visibility.</li>
<li><code>roles.js</code>: List of roles allowed for forum permissions on each User.</li>
<li><code>visibilities.js</code>: List of allowed values for visibility key on forums.</li>
</ul>
<h1 id="middlewares"><a class="heading-anchor" href="#middlewares"><span></span></a>Middlewares</h1>
<p>Some API operations are permission-aware, so when a user tries to perform any of it, the privileges should be checked. It is done by using Express middlewares that are implemented in <code>lib/forum-middlewares/index.js</code> and <code>lib/forum-api/index.js</code>.</p>
</div></main><script src="/assets/js/index.js"></script><script>((window.gitter = {}).chat = {}).options = {
  room: 'DemocracyOS/democracyos'
};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></body></html>